#include <stdint.h>
#include <math.h>
#include <stdlib.h>
#include <stdio.h>
#include "tinyc.h"
#include "softarcade.h"

/* Audio.
 *************************************************************/

#if SOFTARCADE_AUDIO_ENABLE

struct softarcade_synth synth={0};

int16_t tinyc_client_update_synthesizer() {
  return softarcade_synth_update(&synth);
}

static const int16_t *get_wave(uint8_t waveid,void *userdata) {
  return 0;
}

static uint16_t get_pcm(void *pcmpp,uint8_t waveid,void *userdata) {
  return 0;
}

#else
int16_t tinyc_client_update_synthesizer() { return 0; }
#endif

/* Video.
 ***********************************************************************/
 
SOFTARCADE_IMAGE_DECLARE(fb,96,64,0)

SOFTARCADE_IMAGE_DECLARE(bgbits,96,64,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,255,255,255,249,249,249,249,249,249,249,249,249,249,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,255,255,255,255,255,249,249,249,249,249,249,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,255,255,255,255,255,255,255,255,249,249,249,249,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,255,255,255,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,255,255,255,255,255,255,255,255,255,255,249,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,31,31,249,249,249,249,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,31,31,31,31,31,31,249,249,249,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,31,31,31,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,31,31,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,255,255,249,249,249,249,249,249,249,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,249,249,255,255,255,255,255,255,255,255,255,255,255,249,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,249,249,249,249,255,255,255,255,255,255,255,255,255,249,249,249,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,249,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,255,255,255,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,255,249,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,255,255,255,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,255,255,255,255,255,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,249,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,55,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,255,16,255,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,249,
  16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,16,249,
  16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,
  16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,
  16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,
  16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,
)

SOFTARCADE_IMAGE_DECLARE(lion_idle,32,32,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
  28,28,28,28,28,28,19,19,19,19,19,19,19,28,28,28,28,19,19,19,19,19,19,19,19,19,19,28,28,28,28,28,
  28,28,28,28,28,19,19,19,19,19,19,19,19,19,28,28,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,28,
  28,28,28,28,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,28,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,28,19,19,28,19,19,19,19,19,19,19,0,0,0,0,0,0,19,19,19,19,19,19,19,19,19,19,19,28,28,
  28,28,28,28,28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,0,19,19,19,19,19,19,19,19,19,19,28,28,
  28,28,28,28,28,28,19,19,19,19,19,0,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,28,28,28,
  28,28,28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,28,28,28,28,28,
  28,28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,28,28,28,28,
  28,28,19,19,19,19,19,19,19,0,59,59,59,59,0,59,59,0,59,59,59,59,0,19,19,19,19,19,19,28,28,28,
  28,28,19,19,19,19,19,19,0,59,59,59,59,59,0,59,59,0,59,59,59,59,59,0,19,19,19,19,19,28,28,28,
  28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,19,19,19,28,19,19,19,0,59,59,59,59,59,59,13,13,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,28,19,19,19,0,59,59,59,59,59,13,13,13,13,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,28,19,19,19,0,59,59,59,59,59,59,13,13,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,19,19,19,19,0,59,59,59,59,59,59,59,46,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,19,19,19,19,19,46,59,59,59,59,59,59,46,59,59,59,59,59,46,19,19,19,19,19,19,19,28,28,
  28,28,28,19,19,19,19,19,19,46,59,59,59,59,59,46,19,46,59,59,59,59,46,19,19,19,19,19,28,28,28,28,
  28,28,28,19,19,19,19,19,19,19,46,46,59,59,46,19,19,19,46,59,46,46,19,19,19,19,19,19,28,28,28,28,
  28,28,28,28,28,28,0,19,19,19,19,19,46,46,46,19,19,19,46,46,19,19,19,19,19,19,19,19,28,28,28,28,
  28,28,28,28,28,0,59,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,0,28,28,28,28,28,
  28,28,28,28,28,0,59,19,19,19,19,19,19,59,59,19,19,19,19,59,19,19,19,19,19,19,19,0,28,28,28,28,
  28,28,28,28,0,59,59,19,19,19,19,19,59,59,59,59,59,59,59,59,59,59,59,59,19,19,59,0,28,28,28,28,
  28,28,28,28,0,59,59,59,59,59,59,59,59,0,59,59,59,59,59,0,59,59,59,59,59,59,59,59,0,28,28,28,
  28,28,28,28,0,59,59,59,59,59,59,59,59,0,59,59,0,59,59,0,59,59,59,59,59,59,59,59,0,28,28,28,
  28,28,28,28,0,59,59,59,59,59,59,59,59,0,59,59,0,59,59,0,59,59,59,59,59,59,59,59,0,28,28,28,
  28,28,28,28,28,0,59,59,59,59,59,59,59,0,59,59,0,59,59,0,59,59,59,59,59,59,59,0,28,28,28,28,
  28,28,28,28,28,0,59,59,59,59,59,59,59,0,59,59,0,59,59,0,59,59,59,59,59,59,59,0,28,28,28,28,
  28,28,28,28,28,28,0,59,59,59,59,59,0,59,59,59,0,59,59,59,0,59,59,59,59,59,0,28,28,28,28,28,
  28,28,28,28,28,0,59,59,59,59,59,0,59,59,59,59,0,59,59,59,59,0,59,59,59,59,59,0,28,28,28,28,
  28,28,28,28,28,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,28,28,28,28,
)

SOFTARCADE_IMAGE_DECLARE(lion_jump,32,32,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,19,19,19,19,28,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,19,19,19,19,19,19,19,28,28,28,28,19,19,19,19,19,19,19,19,19,19,28,28,28,28,
  28,28,28,19,19,19,19,19,19,19,19,19,19,19,19,28,28,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,28,28,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,28,28,28,28,19,19,19,19,19,19,19,0,0,0,0,0,0,19,19,19,19,19,19,19,19,19,19,28,28,28,
  28,28,28,28,28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,0,19,19,19,19,19,19,19,19,28,28,28,28,
  28,28,28,28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,28,28,28,
  28,28,28,28,19,19,19,19,19,19,0,59,59,0,0,59,59,0,0,59,59,0,19,19,19,19,19,28,28,28,28,28,
  28,28,19,19,19,19,19,19,19,0,59,59,0,59,59,0,0,59,59,0,59,59,0,19,19,19,28,28,28,19,19,28,
  28,19,19,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,19,19,28,
  19,19,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,19,19,19,19,19,19,0,59,59,59,59,59,59,59,59,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,19,19,19,19,0,59,59,59,59,59,59,13,13,59,59,59,59,59,59,0,19,19,19,19,19,19,28,28,
  28,28,28,28,28,28,19,19,0,59,59,59,59,59,13,13,13,13,59,59,59,59,59,0,19,19,19,19,19,28,28,28,
  28,28,28,28,28,19,19,19,0,59,59,59,59,59,59,13,13,59,59,59,59,59,59,0,19,19,19,19,19,28,28,28,
  28,28,28,28,19,19,19,19,46,59,59,59,59,59,59,59,46,59,59,59,59,59,59,0,19,19,19,19,19,28,28,28,
  28,28,28,19,19,19,19,19,19,46,59,59,59,59,59,46,19,46,59,59,59,59,59,46,19,19,19,19,19,28,28,28,
  28,28,19,19,19,19,19,19,19,46,59,59,59,59,46,19,19,19,46,59,59,59,59,46,19,19,19,19,28,28,28,28,
  28,28,28,28,28,19,19,19,19,19,46,46,46,46,19,19,19,19,19,46,46,46,46,19,19,19,19,28,28,28,28,28,
  28,28,28,28,28,28,0,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,28,28,28,28,28,
  28,28,28,28,28,0,59,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,19,0,28,28,28,28,28,
  28,28,28,28,28,0,59,59,19,19,19,19,19,59,59,19,19,19,19,19,19,19,19,19,19,59,59,0,28,28,28,28,
  28,28,28,28,0,59,59,59,19,59,19,19,59,0,59,59,59,59,59,0,59,59,19,19,19,59,59,0,28,28,28,28,
  28,28,28,28,0,59,59,59,59,59,59,19,59,0,59,59,59,59,59,59,0,59,59,59,19,59,59,59,0,28,28,28,
  28,28,28,0,59,59,59,59,59,59,59,59,0,59,59,59,0,59,0,59,59,0,0,59,59,59,59,59,0,28,0,28,
  28,28,28,0,59,59,59,59,59,59,59,59,0,59,59,0,59,59,0,59,59,0,59,0,59,59,59,59,0,0,59,0,
  28,28,28,0,59,59,59,59,59,59,0,0,59,59,59,0,59,59,59,0,59,59,59,0,59,59,59,59,59,59,59,0,
  28,0,0,59,59,59,59,0,0,0,59,59,59,59,0,0,0,0,0,0,59,59,0,59,59,59,59,59,59,59,59,0,
  0,59,59,59,59,59,0,28,28,28,0,0,59,59,0,28,28,28,28,28,0,0,28,0,0,0,0,59,59,59,0,28,
  28,0,0,0,0,0,28,28,28,28,28,28,0,0,28,28,28,28,28,28,28,28,28,28,28,28,28,0,0,0,28,28,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
)

SOFTARCADE_IMAGE_DECLARE(raccoon_idle,32,32,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,0,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,0,0,0,28,28,0,0,0,0,0,28,28,0,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,0,0,82,82,82,82,82,0,0,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,9,9,9,9,9,9,9,9,9,82,0,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,9,9,9,9,255,255,9,255,255,9,9,9,9,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,9,9,9,9,255,0,9,255,0,9,9,9,9,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,9,9,9,9,9,9,9,9,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,0,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,0,0,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,0,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,0,0,0,0,0,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,9,0,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,0,9,9,9,0,0,82,82,82,82,82,82,82,82,0,0,9,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,0,9,82,82,82,9,0,0,0,0,0,0,0,0,82,9,9,9,0,28,28,28,28,
  28,28,28,28,28,28,28,28,0,9,9,82,82,9,9,9,82,82,82,82,9,9,9,82,82,9,9,0,28,28,28,28,
  28,28,28,28,28,28,28,28,0,9,82,82,82,9,9,82,82,9,82,82,82,9,9,9,82,9,9,9,0,28,28,28,
  28,28,28,28,28,28,28,28,0,9,82,82,9,9,9,82,9,82,82,9,82,82,9,9,82,82,9,9,0,28,28,28,
  28,28,28,28,28,28,28,28,0,9,82,82,9,9,82,82,9,82,82,82,9,82,9,9,82,82,9,9,0,28,28,28,
  28,28,28,28,28,28,0,0,0,9,82,82,9,9,82,82,9,82,82,82,9,82,82,9,9,82,9,9,0,28,28,28,
  28,28,28,28,0,0,82,9,0,9,82,82,9,9,82,82,9,82,82,82,9,82,82,9,9,82,9,9,0,28,28,28,
  28,28,0,0,82,9,82,82,9,0,82,82,82,9,82,82,82,82,82,9,82,82,82,9,9,82,9,0,28,28,28,28,
  28,0,82,9,82,82,9,0,0,0,9,82,82,9,82,82,82,82,82,82,82,82,9,9,82,82,9,0,28,28,28,28,
  28,0,82,82,9,82,0,28,28,28,0,9,82,82,9,82,82,82,82,82,82,9,82,82,82,9,0,28,28,28,28,28,
  28,28,0,82,82,0,28,28,0,0,0,9,82,82,82,82,82,82,82,82,82,82,82,82,9,9,0,0,0,28,28,28,
  28,28,28,0,0,28,28,0,82,82,82,82,82,82,0,0,0,0,0,0,0,0,0,82,82,82,82,82,82,0,28,28,
  28,28,28,28,28,28,28,28,0,0,0,0,0,0,0,28,28,28,28,28,28,28,0,0,0,0,0,0,0,28,28,28,
)

SOFTARCADE_IMAGE_DECLARE(raccoon_jump,32,32,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,0,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,0,0,0,28,28,0,0,0,0,0,28,28,0,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,0,0,82,82,82,82,82,0,0,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,9,9,9,9,9,9,9,9,9,82,0,28,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,9,9,9,9,255,0,9,255,0,9,9,9,9,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,9,9,9,9,255,255,9,255,255,9,9,9,9,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,9,9,9,9,9,9,9,9,82,82,0,28,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,0,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,0,0,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,0,0,82,82,82,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,0,0,0,0,0,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,0,0,0,82,82,82,82,82,82,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,28,0,82,82,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,
  28,28,28,28,28,28,28,28,28,28,0,9,0,82,82,82,82,82,82,82,82,82,82,82,82,0,28,28,28,28,28,28,
  28,28,28,0,0,28,28,28,28,0,9,9,9,0,0,82,82,82,82,82,82,82,82,0,0,9,0,28,28,28,28,28,
  28,28,0,82,82,0,28,28,28,0,9,82,82,82,9,0,0,0,0,0,0,0,0,82,9,9,9,0,28,28,28,28,
  28,0,82,82,9,82,0,28,0,9,9,82,82,9,9,9,82,82,82,82,9,9,9,82,82,9,9,0,28,28,28,28,
  28,0,82,9,82,82,9,0,0,9,82,82,82,9,9,82,82,9,82,82,82,9,9,9,82,9,9,9,0,28,28,28,
  28,28,0,0,82,9,82,82,0,9,82,82,9,9,9,82,9,82,82,9,82,82,9,9,82,82,9,9,0,28,28,28,
  28,28,28,28,0,0,82,9,0,9,82,82,9,9,82,82,9,82,82,82,9,82,9,9,9,82,9,9,0,28,28,28,
  28,28,28,28,28,28,0,0,0,9,82,82,9,9,82,82,9,82,82,82,9,82,82,9,9,82,9,9,0,28,28,28,
  28,28,28,28,28,28,28,28,0,9,82,82,9,9,82,82,9,82,82,82,9,82,82,9,9,82,9,9,0,28,28,28,
  28,28,28,28,28,28,28,28,28,0,82,82,82,9,82,82,82,82,82,9,82,82,9,9,82,82,9,0,28,28,28,28,
  28,28,28,28,28,28,28,28,28,0,82,82,82,9,82,82,82,82,82,82,82,82,9,82,82,82,9,0,28,28,28,28,
  28,28,28,28,28,28,0,0,0,9,82,82,82,82,9,82,82,82,82,82,82,82,82,82,82,82,82,0,0,0,28,28,
  28,28,28,28,28,0,82,82,82,82,82,82,0,82,82,82,82,82,82,82,82,82,82,0,82,82,82,82,82,82,0,28,
  28,28,28,28,28,28,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,28,28,
  28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,
)

static struct softarcade_font font={
  .metrics={
    96,53,105,181,124,181,184,41,85,85,181,181,83,167,47,181,149,117,149,117,149,149,149,149,149,
    149,46,83,117,142,117,153,149,149,149,117,149,149,149,149,149,117,149,149,117,181,181,181,149,
    149,149,149,181,149,181,181,181,181,117,85,181,85,173,175,108,149,149,114,149,149,117,150,149,
    50,89,117,85,175,143,146,150,150,146,149,117,143,175,175,111,150,114,117,53,117,174,0
  },
  .bits={
    0,3892314112,3019898880,1473639680,1584648192,2290649216,1158764852,3221225472,1782579200,
    2508193792,2881415808,557728256,218103808,4160749568,536870912,143165440,1805475840,3375235072,
    3781750784,3306946560,2582712320,4175552512,1760124928,4045684736,1768513536,1769017344,
    2684354560,1291845632,706871296,4042260480,2292711424,3781428224,1773694976,1777963008,
    3924418560,1917190144,3919175680,4176015360,4175986688,1756983296,2583269376,3912105984,
    286875648,2596966400,2454585344,2397771904,2389391488,1952651008,3924328448,1771794432,
    3924398080,2019680256,4178067968,2576965632,2354356736,2355844352,2324211840,2354856448,
    3847094272,3938451456,2181570688,3586129920,581042176,4063232,2290089984,1635348480,
    2297028608,1915748352,293171200,1776836608,732168192,1769037824,2297008128,2952790016,
    1163919360,2464808960,2856321024,3580493824,3918528512,1771438080,1776844800,1769017344,
    3918004224,2019680256,1268908032,2574254080,2324168704,2371092480,2860515328,2574344192,
    4017094656,1780875264,4160749568,3366715392,1162084352,0
  },
};

#define ARC_HEIGHT_LIMIT 20
static uint8_t arc_raw_data[]={
  255,
  15,240,
  7,56,192,
  3,12,48,192,
  7,24,32,64,128,
  3,12,16,32,64,128,
  3,12,16,32,64,64,128,
  3,12,16,32,64,64,128,128,
  1,6,8,16,32,32,64,64,128,
  1,6,8,16,32,32,64,64,128,128,
  1,6,8,16,16,32,32,64,64,128,128,
  1,2,4,8,16,32,32,64,64,128,128,128,
  3,4,8,16,16,32,32,64,64,64,128,128,128,
  1,2,4,8,16,16,32,32,64,64,64,128,128,128,
  1,6,8,16,16,32,32,32,64,64,64,128,128,128,128,
  1,2,4,8,16,16,32,32,32,64,64,64,128,128,128,128,
  1,2,4,8,8,16,16,32,32,32,64,64,64,128,128,128,128,
  1,2,4,8,8,16,16,32,32,64,64,64,64,128,128,128,128,128,
  1,2,4,8,8,16,16,32,32,32,64,64,64,64,128,128,128,128,128,
  1,2,4,8,8,16,16,16,32,32,32,64,64,64,64,128,128,128,128,128,
};
static uint8_t arc_starts[1+ARC_HEIGHT_LIMIT]={
  0,0,1,3,6,10,15,21,28,36,45,55,66,78,91,105,120,136,153,171,190,
};

/* Game logic.
 **************************************************************/
 
#define ROPE_TOP    19
#define ROPE_BOTTOM 59
#define ROPE_LEFT    8 /* require at least 8 pixels leftward */
#define ROPE_RIGHT  88 /* '' rightward */
#define JUMPERC 2
#define JUMPER_Y_TOP    16
#define JUMPER_Y_BOTTOM 28
#define SCORE_HILITE_TIME 10
#define GAMEOVER_BLACKOUT_TIME 60
#define ROPE_SPEED_INITIAL 3
#define ROPE_SPEED_MAX    10
#define ROPE_INCREASE_INTERVAL 10
#define HISCORE_PATH "/Jumprope/HISCORE"

static uint32_t score=0;
static uint32_t hiscore=0;
static uint8_t scorehilite=0;
static uint8_t gameover=0;
static uint8_t ropespeed=ROPE_SPEED_INITIAL;

static struct jumper {
  int8_t x,y;
  struct softarcade_image *image_idle;
  struct softarcade_image *image_jump;
  uint8_t input;
  uint8_t cutoff;
} jumperv[JUMPERC]={0};
 
/* This is a radial measure: 0 at the bottom, 0x40 midway going up, 0x80 top, 0xc0 midway going down.
 */
static uint8_t rope=0;

static void update_jumper(struct jumper *jumper,uint8_t input) {
  if (input&&!jumper->cutoff) {
    if (jumper->y>JUMPER_Y_TOP) {
      jumper->y--;
    } else {
      jumper->cutoff=1;
    }
  } else {
    if (jumper->y<JUMPER_Y_BOTTOM) {
      jumper->y++;
    } else if (!input) {
      jumper->cutoff=0;
    }
  }
  jumper->input=input;
}

static void init_jumpers() {

  // Start with cutoffs set -- a button press probably started the game, and we should ignore that one.

  jumperv[0].x=14;
  jumperv[0].y=JUMPER_Y_BOTTOM;
  jumperv[0].image_idle=&image_lion_idle;
  jumperv[0].image_jump=&image_lion_jump;
  jumperv[0].cutoff=1;

  jumperv[1].x=50;
  jumperv[1].y=JUMPER_Y_BOTTOM;
  jumperv[1].image_idle=&image_raccoon_idle;
  jumperv[1].image_jump=&image_raccoon_jump;
  jumperv[1].cutoff=1;
}

static void restart_game() {
  init_jumpers();
  score=0;
  scorehilite=0;
  ropespeed=ROPE_SPEED_INITIAL;
  gameover=0;
}

static void update_game(uint8_t input) {

  if (gameover) {
    update_jumper(jumperv+0,0);
    update_jumper(jumperv+1,0);
    if (gameover>=GAMEOVER_BLACKOUT_TIME) {
      if (input) {
        restart_game();
      }
    } else {
      gameover++;
    }
    return;
  }
  
  uint8_t pvrope=rope;
  rope+=ropespeed;
  if (rope<pvrope) { // wrapped around, ie tapped the floor
    if ((jumperv[0].y==JUMPER_Y_BOTTOM)||(jumperv[1].y==JUMPER_Y_BOTTOM)) {
      gameover=1;
      rope=0;
      if (score>=hiscore) {
        hiscore=score;
        if (HISCORE_PATH) tinyc_file_write(HISCORE_PATH,&hiscore,sizeof(hiscore));
      }
      return;
    }
    score++;
    scorehilite=SCORE_HILITE_TIME;
    if (score>hiscore) hiscore=score;
    if (!(score%ROPE_INCREASE_INTERVAL)&&(ropespeed<ROPE_SPEED_MAX)) ropespeed++;
  }
  
  update_jumper(jumperv+0,input&(TINYC_BUTTON_LEFT|TINYC_BUTTON_RIGHT|TINYC_BUTTON_UP|TINYC_BUTTON_DOWN));
  update_jumper(jumperv+1,input&(TINYC_BUTTON_A|TINYC_BUTTON_B));
}

/* Rendering.
 *****************************************************************/
 
static void draw_8_bits(uint8_t x,uint8_t y,uint8_t src,uint8_t firstbit) {
  uint8_t *v=image_fb.v+y*96+x;
  int8_t i=8;
  if (firstbit==0x80) {
    for (;i-->0;v++,firstbit>>=1) if (src&firstbit) *v=0;
  } else {
    for (;i-->0;v++,firstbit<<=1) if (src&firstbit) *v=0;
  }
}
 
static void draw_arc(uint8_t x,uint8_t y,int8_t h,uint8_t firstbit) {
  if (!h) h=1;
  if (h>0) {
    if (h>ARC_HEIGHT_LIMIT) h=ARC_HEIGHT_LIMIT;
    uint8_t rawp=arc_starts[h]+h-1;
    for (;h-->0;rawp--,y++) {
      draw_8_bits(x,y,arc_raw_data[rawp],firstbit);
    }
  } else {
    h=-h;
    if (h>ARC_HEIGHT_LIMIT) h=ARC_HEIGHT_LIMIT;
    uint8_t rawp=arc_starts[h]+h-1;
    for (;h-->0;rawp--,y--) {
      draw_8_bits(x,y,arc_raw_data[rawp],firstbit);
    }
  }
}

static void draw_rope() {

  const uint8_t midy=(ROPE_TOP+ROPE_BOTTOM)>>1;
  uint8_t ropey=midy+(cosf((rope*M_PI*2.0f)/256.0f)*(ROPE_BOTTOM-midy)+0.5f);
  if (ropey<ROPE_TOP) ropey=ROPE_TOP;
  else if (ropey>ROPE_BOTTOM) ropey=ROPE_BOTTOM;
  
  uint8_t *v=image_fb.v+ropey*96+ROPE_LEFT;
  int i=ROPE_RIGHT-ROPE_LEFT;
  for (;i-->0;v++) *v=0;
  
  draw_arc(ROPE_LEFT-8,midy,ropey-midy,0x80);
  draw_arc(ROPE_RIGHT,midy,ropey-midy,0x01);
}

static void draw_jumper(const struct jumper *jumper) {
  struct softarcade_image *image;
  if (jumper->input&&!jumper->cutoff) image=jumper->image_jump;
  else image=jumper->image_idle;
  softarcade_blit_unchecked(&image_fb,jumper->x,jumper->y,image);
}
 
static void draw_sprites() {

  // Going up, rope is behind jumpers.
  if (rope<0x80) draw_rope();
  
  draw_jumper(jumperv+0);
  draw_jumper(jumperv+1);
  
  // Coming down, rope is before jumpers.
  if (rope>=0x80) draw_rope();
  
  char scoremsg[32];
  int scoremsgc=snprintf(scoremsg,sizeof(scoremsg),"%d",score);
  uint8_t scorecolor=0x04;
  if (scorehilite>0) {
    scorecolor=0x18;
    scorehilite--;
  }
  softarcade_font_render(&image_fb,40,9,&font,scoremsg,scoremsgc,scorecolor);
  
  scoremsgc=snprintf(scoremsg,sizeof(scoremsg),"High score %d",hiscore);
  if (score>=hiscore) scorecolor=0x02;
  else scorecolor=0x00;
  softarcade_font_render(&image_fb,1,1,&font,scoremsg,scoremsgc,scorecolor);
}

/* Main loop.
 ******************************************************************/

static double next_time=0.0;
static uint8_t noteid=0x40;
static uint8_t voiceid=0;
static uint8_t waveid=0;
static uint16_t songp=0;

void loop() {

  unsigned long now=millis();
  if (now<next_time) {
    delay(1);
    return;
  }
  next_time+=16.66666;
  if (next_time<now) {
    tinyc_usb_log("dropped frame\n");
    next_time=now+16.66666;
  }

  uint8_t input_state=tinyc_read_input();
  update_game(input_state);

  memcpy(image_fb.v,image_bgbits.v,96*64);
  draw_sprites();

  tinyc_send_framebuffer(image_fb.v);
}

/* Initialize.
 */

void setup() {

  #if SOFTARCADE_AUDIO_ENABLE
  softarcade_synth_init(&synth,22050,get_wave,get_pcm,0);
  #endif
  
  image_lion_idle.colorkey=0x1c;
  image_lion_jump.colorkey=0x1c;
  image_raccoon_idle.colorkey=0x1c;
  image_raccoon_jump.colorkey=0x1c;

  tinyc_init();
  init_jumpers();
  
  if (HISCORE_PATH) tinyc_file_read(&hiscore,sizeof(hiscore),HISCORE_PATH);

  tinyc_init_usb_log();
}
